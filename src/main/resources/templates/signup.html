<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>PLOG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        function validateForm() {
          const name = document.getElementById("name");
          const username = document.getElementById("username");
          const email = document.getElementById("email");
          const password = document.getElementById("password");
          const confirmPassword = document.getElementById("confirmPassword");
          const signupBtn = document.getElementById("signupBtn");

          const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value);
          const passwordsMatch = password.value === confirmPassword.value;
          const nameValid = name.value.trim() !== "";
          const usernameValid = username.value.trim() !== "";

          signupBtn.disabled = !(emailValid && passwordsMatch && nameValid && usernameValid);
        }
    </script>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">
<form th:action="@{/signupProc}" method="post" class="bg-white p-8 rounded-xl shadow-md w-full max-w-md">
    <h1 class="text-center text-3xl font-bold text-indigo-600 font-['Pacifico'] mb-1">
        <a th:href="@{/}" class="hover:underline">PLOG</a>
    </h1>
    <h2 class="text-center text-xl font-semibold text-gray-700 mb-6">회원가입</h2>

    <div class="mb-4">
        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">이름</label>
        <input type="text" id="name" name="name" required oninput="validateForm()"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>

    <div class="mb-4">
        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">아이디</label>
        <input type="text" id="username" name="username" required oninput="validateForm()"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>

    <div class="mb-4">
        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">비밀번호</label>
        <input type="password" id="password" name="password" required oninput="validateForm()"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>

    <div class="mb-4">
        <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">비밀번호 확인</label>
        <input type="password" id="confirmPassword" required oninput="validateForm()"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>

    <div class="mb-6">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">이메일</label>
        <input type="email" id="email" name="email" required oninput="validateForm()"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </div>

    <div class="text-right">
        <button type="submit" id="signupBtn" disabled
                class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-4 py-2 rounded-md shadow disabled:opacity-50">
            회원가입
        </button>
    </div>
</form>
</body>
</html>